# AGENTS.md â€” Master Plan for SimpliFolio

## Project Overview
**App:** SimpliFolio  
**Goal:** AI-powered quant portfolio optimization for beginner retail investors  
**Stack:** Next.js + Supabase + Tailwind + shadcn/ui + Tremor + Groq/Gemini  
**Deployment:** Vercel  
**Timeline:** 7 days  
**Budget:** $0  
**Current Phase:** Phase 1 â€” Foundation

---

# ğŸ§  HOW I SHOULD THINK

1. Understand intent â†’ do not jump into coding.
2. Load required context files BEFORE planning.
3. Plan â†’ get approval â†’ implement.
4. Build ONE small feature at a time.
5. Verify manually after every change.
6. Commit after every working milestone.

---

# ğŸ“š MANDATORY CONTEXT LOADING ORDER (ALWAYS FIRST)

Before making ANY plan or generating code, I MUST read:

1. `agent_docs/product_requirements.md`  
   â†’ source of truth for features & scope

2. `agent_docs/tech_stack.md`  
   â†’ architecture, DB schema, data flow

3. `agent_docs/project_brief.md`  
   â†’ workflow rules & commit standards

4. `agent_docs/testing.md`  
   â†’ how to verify features

If any required detail is missing â†’ ASK the user.

DO NOT SKIP THIS STEP.

---

# ğŸ¯ MVP FEATURE SOURCE OF TRUTH

All features MUST come from:
`agent_docs/product_requirements.md`

If a feature is not listed there â†’ it is OUT OF SCOPE.

---

# ğŸªœ BUILDING STRATEGY (VIBE-CODER MODE)

Explain what to do â€” not long theory.

Each task must be:

Small  
Testable  
Commit-ready  

---

# ğŸ” PLAN â†’ EXECUTE â†’ VERIFY LOOP

## PLAN
- What feature is next?
- Files to create/update
- How to test it manually

WAIT for approval.

## EXECUTE
Implement only that feature.

## VERIFY
Run:
- Dev server
- Manual user flow
- Console check

If working â†’ commit.

---

# ğŸ§± ARCHITECTURE RULES

## Data Flow (MANDATORY)
External API  
â†’ Next.js server route  
â†’ Supabase cache  
â†’ UI

NEVER call external APIs directly from client.

## Quant Engine
Runs in frontend using mathjs.

## AI Flow
Quant output â†’ API route â†’ Groq/Gemini â†’ ELI5 card

Fallback:
If AI fails â†’ show raw metrics.

---

# ğŸ’¾ GIT PORTFOLIO RULES (CRITICAL)

This project is a recruiter signal.

After every completed feature:

Create a commit using format:

feat: add Supabase authentication  
feat: implement market cache layer  
feat: build portfolio optimizer  

NEVER leave working code uncommitted.

---

# ğŸ§ª VERIFICATION CHECKPOINTS

A feature is DONE only if:

- It works in UI
- No console errors
- It survives page refresh
- It follows architecture rules

---

# ğŸš« WHAT NOT TO DO

Do NOT:
- Add features outside MVP
- Break API free-tier limits
- Call APIs from client
- Leave half-working code
- Refactor entire app without approval
- Install new libraries without checking tech_stack.md

---

# ğŸ—ºï¸ 7-DAY EXECUTION ROADMAP

## Phase 1 â€” Foundation
- Initialize Next.js app
- Setup Supabase
- Deploy blank app

## Phase 2 â€” Authentication
- Supabase auth
- user_settings table
- Session persistence

## Phase 3 â€” Market Dashboard
- Server API route
- Supabase market_cache
- Prices UI
- News UI

## Phase 4 â€” Quant Engine
- Portfolio input UI
- mathjs calculations
- Results display

## Phase 5 â€” AI Explanation
- API route for AI
- ELI5 card
- Failure fallback

## Phase 6 â€” Learning Modules
- Static content section

## Phase 7 â€” Polish & Launch
- End-to-end testing
- UI cleanup
- README + project report

---

# ğŸ§­ CURRENT STATE (UPDATE AFTER EACH PHASE)

Last Updated: Day 7  
Working On: Polish & launch (Phase 7)  
Completed: Phase 1â€“7 (Foundation, Auth, Market Dashboard, Quant Engine, AI Explanation, Learning Modules, Polish)  
Blocked By: None  

---

# ğŸ DEFINITION OF MVP DONE

âœ” Sign up â†’ login â†’ session persists  
âœ” User sees live prices  
âœ” User runs portfolio optimizer  
âœ” AI generates ELI5 explanation  
âœ” App deployed on Vercel  
âœ” Strong Git commit history  

---

# ğŸ¤– HOW TO INTERACT WITH USER

When starting a phase:

1. Show plan
2. Ask for approval
3. Implement

Keep responses concise and action-oriented.